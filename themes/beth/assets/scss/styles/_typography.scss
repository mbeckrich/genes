@use "library" as *;

/*
* Links
*/
a {
  border-radius: var(--border-r-s);
  color: currentcolor;
  text-decoration: none;
  transition: var(--transition-standard);
}

nav a,
p a {
  border-radius: var(--border-r-s);
  color: $links;
}

nav a:active,
p > a:active {
  background-color: $links-active;
  color: $text;
}

li:has(.is-active) {
  align-content: center;
  justify-content: center;
}

.is-active,
:is(a:hover){
  background-color: $links-hover;
  color: $text;
}

.is-active:hover {
    background-color: $links-active-hover;
}

.found-content {
  color: $links;
}

.missing-content {
  color: $red;
}

/*
* Headings
*/

h1[role="recent-posts"] {
  box-shadow: 0 0.07em $grey;
  color: $faded-text;
}

h1,
h2,
h3,
h4,
h5,
h6,
nav li {
  line-height: 1.1;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: $brown;
  font-weight: 500;
}

h1 {
  font-size: var(--s2);
}

header h1 {
  margin-top: var(--space-s);
  font-size: var(--s4);
  font-weight: 600;
}

h1 a:hover,
h2 a:hover {
  background-color: $links-hover;
}

h2,
h3 {
  font-size: var(--s1);
}

h4,
h5,
h6 {
  font-size: var(--s0);
}

/*
* Posts
* TODO: Get opinions on this left-align vs. centering.
*/

.full-post {
  display: flex;
  justify-content: flex-start;
  margin-inline: auto;
}

/*
* Paragraphs
*/

p {
  color: $text;
  font-family: Lora, serif;
  font-size: var(--s0);
  font-weight: 425;
  hyphens: auto;
}

.full-post p,
.footnotes hr {
  max-width: 66ch;
}

/*
* Superscript
*/

sup {
  border-radius: var(--border-r-s);
  font-family: Lora, var(--fonts-standard);
  font-size: var(--s-2);
  font-weight: bold;
  line-height: 0;
  transition: var(--transition-standard);
  vertical-align: 0.558em;
}

sup:hover {
  background-color: $links-hover;
  color: $brown;
}

sup:hover a {
  color: $brown;
}

/*
* Footnotes
*/

.footnotes > * + * {
  margin-block-start: var(--space-s);
}

.footnotes {
  box-shadow: 0 -0.07em $grey;

  /* Prevents unwanted linebreak. */
  p {
    display: inline;
  }
}

.footnotes hr {
  display: none;
}

.footnote-backref {
  color: $links;
  text-decoration: none;
}

.footnotes ol {
  font-size: var(--s-1);
  list-style-position: inside;
  list-style-type: decimal;

  a {
    font-size: var(--s-1);
  }
}

/*
* Hashtags
*/

[role="hashtags"] {
  color: $links;
  font-size: var(--s-2);
  font-weight: 600;
  letter-spacing: 0.015em;
  text-transform: uppercase;

  &:hover {
    background-color: $links-hover;
    border-radius: var(--border-r-s);
    color: $brown;
  }
}

/*
* Blockquotes
*/

blockquote p {
  font-size: var(--s-1);
  margin-inline-start: var(--space-3xs);
}

blockquote {
  max-width: 90%;
  align-self: center;
  padding: var(--space-3xs-s);
  border-left: oklch(var(--links) / 72%) 3px solid;
  background-color: oklch(from $links l c h / 18%);
  border-radius: var(--border-r-s);
}

/*
* ID numbers
*/

.id:hover::after {
  content: attr(aria-label);
}

/*
* Image captions
*/

figcaption {
  color: oklch(from oklch(30% 0.075 70deg) 63% .02 h);
  font-size: var(--s-1);
  font-style: italic;
}

/*
* Lists
*/

.full-post > ul,
.full-post > ol {
  font-family: Lora, serif;
  margin-inline-start: var(--space-3xs)
}

.full-post p + ul {
  margin-block-start: var(--space-3xs);
}

ul,
ol {
  padding-inline-start: 0;
}

:is(article) ol:not(.switcher-s, .breadcrumb) li {
  list-style-type: lower-alpha;
}

:is(article) ul:not(.switcher-s, .breadcrumb) li {
  list-style-type: disc;
}

ol::marker,
li::marker {
  color: $links;
}

:is(article) ol:not(.switcher-s, .breadcrumb) li,
:is(article) ul:not(.switcher-s, .breadcrumb) li {
  margin-inline-start: var(--space-s);
}

.switcher-s {
  line-height: 1.1;
}

/*
* Breadcrumb styling https://dongheenam.info/posts/breadcrumb-navigation-in-hugo/
*/

.breadcrumb {
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  line-height: 1.1;
  list-style: none;
}

.breadcrumb li {
  display: inline;
  color: $text;
  font-family: var(--fonts-standard);
  font-size: var(--s-2);
  font-weight: 600;
  text-transform: uppercase;
  white-space: nowrap;
}

.breadcrumb li + li::before {
  padding: 0.3rem;
  content: "/";
}

/*
* Caveats
*/

.double-s:not(:first-child) {
  margin-top: calc(2 * var(--space-s));
}
